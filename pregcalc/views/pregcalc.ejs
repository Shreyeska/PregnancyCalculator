<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tracker</title>

    <link rel='stylesheet' href='/stylesheets/calcstyle.css' />

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>
<body>
	<!-- Navigation Bar -->
    <ul class="nav justify-content-end py-3">
        <li class="nav-item">
          <a class="nav-link active" href="/">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/aboutus">About us</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Community</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/pregcalc" tabindex="-1" aria-disabled="true">Tracker</a>
        </li>
      </ul>
    <!-- Pregnancy Calculator -->
	<section class="py-3 py-md-5">
		<div class="container">
		  <div class="row gy-3 gy-md-4 gy-lg-0 align-items-lg-center">
			<div class="col-12 col-lg-6 col-xl-5">
			  <img class="img-fluid rounded" loading="lazy" src="https://img.freepik.com/premium-vector/aesthetics-pregnant-women-minimal-style-elegant-line-art_278222-2022.jpg?w=740" alt="About 1">
			</div>
			<div class="col-12 col-lg-6 col-xl-7">
			  <div class="row justify-content-xl-center">
				<div class="col-12 col-xl-11">
				   <h2 class="mb-3">Pregnancy Calculator</h2> 
				   <p class="lead fs-4 text-secondary mb-3">
				   <label for="lastPeriod">Last Period Date:</label>
				   <input type="date" id="lastPeriod" required>
			   
				   <label for="cycleLength">Average Cycle Length (in days):</label>
				   <input type="number" id="cycleLength" required>
				   
				   <button type="button" onclick="calculatePregnancy()" class="btn btn-info">Calculate Pregnancy Time</button>
				   
			   
				   
				</p>
			   
				  </div>
				</div>
			  </div>
			</div>
		  </div>
		</div>
	  </section>

	  <!-- Result section -->
	  
	  <section class="py-2 py-md-2">
		<div class="container">
			<div class="row justify-content-xl-center">
				<div class="col-20 col-xl-15">
<div class="result">Your Baby is Due: </div><div id="result"> </div>

<div class="result"> Days Left:  </div> <div id="daysleft"> </div>
	
	  </div>
	  </div>
	  </div>
	  </section>

	<!-- Document section -->
	<section class="py-2 py-md-2">
		<div class="container">
			<div class="row justify-content-xl-center">
				<div class="col-12 col-xl-11">
				   <h2 class="mb-3" style="font-family: cursive ;">Weekly Development</h2>

				   <div id ="week">WEEK 1 & 2 </div>
				   <div id="time" style="font-family: cursive; "> Weeks 1 & 2 of your pregnancy <br></div>
					<div id="action" style="font: bold;"> Baby Conceived</div>
					<div id="details" style="font-family: 'Times New Roman', Times, serif;">It's ovulation time. If sperm and egg meet, you're on your way to pregnancy.</div>

				   <div id ="week">WEEK 3 </div>
				   <div id="time" style="font-family: cursive; "> Weeks 1 & 2 of your pregnancy <br></div>
					<div id="action" style="font: bold;"> Implantation occurs</div>
					<div id="details" style="font-family: 'Times New Roman', Times, serif;">Your baby is a tiny ball of several hundred cells that are rapidly multiplying and burrowing into the lining of your uterus. The cells that become the placenta are producing hCG, the pregnancy hormone. It tells your ovaries to stop releasing eggs and keep producing progesterone. Once there's enough hCG in your urine, you'll get a positive pregnancy test result.</div>

				   <div id ="week">WEEK 4 </div>
				   <div id="time" style="font-family: cursive; "> Weeks 1 & 2 of your pregnancy <br></div>
					<div id="action" style="font: bold;"> Positive Pregnancy Test</div>
					<div id="details" style="font-family: 'Times New Roman', Times, serif;">Your baby is an embryo made up of two layers, the hypoblast and the epiblast. The primative placenta is developing and preparing to provide nutrients and oxygen to your growing baby. The amniotic sac is developing and will surround and protect your baby while it continues to grow.</div>

					<div id ="week">WEEK 5 </div>
					<div id="time" style="font-family: cursive; "> Weeks 1 & 2 of your pregnancy <br></div>
					 <div id="action" style="font: bold;"> Baby Conceived</div>
					 <div id="details" style="font-family: 'Times New Roman', Times, serif;">It's ovulation time. If sperm and egg meet, you're on your way to pregnancy.</div>

					 <div id ="week">WEEK 6 </div>
					 <div id="time" style="font-family: cursive; "> Weeks 1 & 2 of your pregnancy <br></div>
					  <div id="action" style="font: bold;"> Baby Conceived</div>
					  <div id="details" style="font-family: 'Times New Roman', Times, serif;">It's ovulation time. If sperm and egg meet, you're on your way to pregnancy.</div>

					  <div id ="week">WEEK 7 </div>
					  <div id="time" style="font-family: cursive; "> Weeks 1 & 2 of your pregnancy <br></div>
					   <div id="action" style="font: bold;"> Baby Conceived</div>
					   <div id="details" style="font-family: 'Times New Roman', Times, serif;">It's ovulation time. If sperm and egg meet, you're on your way to pregnancy.</div>

					   <div id ="week">WEEK 8 </div>
					   <div id="time" style="font-family: cursive; "> Weeks 1 & 2 of your pregnancy <br></div>
						<div id="action" style="font: bold;"> Baby Conceived</div>
						<div id="details" style="font-family: 'Times New Roman', Times, serif;">It's ovulation time. If sperm and egg meet, you're on your way to pregnancy.</div>

						<div id ="week">WEEK 9 </div>
						<div id="time" style="font-family: cursive; "> Weeks 1 & 2 of your pregnancy <br></div>
						 <div id="action" style="font: bold;"> Baby Conceived</div>
						 <div id="details" style="font-family: 'Times New Roman', Times, serif;">It's ovulation time. If sperm and egg meet, you're on your way to pregnancy.</div>

						 <div id ="week">WEEK 10 </div>
						 <div id="time" style="font-family: cursive; "> Weeks 1 & 2 of your pregnancy <br></div>
						  <div id="action" style="font: bold;"> Baby Conceived</div>
						  <div id="details" style="font-family: 'Times New Roman', Times, serif;">It's ovulation time. If sperm and egg meet, you're on your way to pregnancy.</div>

						  
					
					
				   </div>
				   </div>
				   </div>
				   

				   </section>

	
	  </div>
	  </div>
	  </div>
	  </section>

</body>
<script >
	
function calculatePregnancy() { 
  
  // Getting input from html input element 
  let data = 
	  document.getElementById("lastPeriod").value; 

  // Converting input data to usable format as day,month and year 
  let lastPeriodDate = new Date(data); 
  // let day = lastPeriodDate.getDate(); 
  // let month = lastPeriodDate.getMonth(); 
  // let year = lastPeriodDate.getFullYear(); 

  // Taking cycle Length input
  let cycleLength = document.getElementById("cycleLength").value;

  // Calculating Due Date.

  //console.log("avg period day"+ cycleLength);

  var estimatedDueDate = calculateDueDate(lastPeriodDate, cycleLength);

  // Calculate how long been pregnant
  var daysPregnant = calculateDaysPregnant(estimatedDueDate);
console.log( daysPregnant)
  // Display results
  showResult(estimatedDueDate, daysPregnant);
		  
}
function calculateDueDate(lastPeriodDate, cycleLength) {
  // Assuming a standard pregnancy length of 280 days
  var pregnancyTime = 280;

  // Calculate estimated due date
  var startDate = new Date(lastPeriodDate.getTime() + (cycleLength - 28) * 24 * 60 * 60 * 1000);
  var dueDate = new Date(startDate.getTime() + pregnancyTime * 24 * 60 * 60 * 1000);

  return dueDate;
}

function calculateDaysPregnant(dueDate) {
  // Calculate how long been pregnant
  var currentDate = new Date();
  var daysPregnant = Math.floor((currentDate - dueDate   ) / (24 * 60 * 60 * 1000));

  return daysPregnant;
}

function showResult(estimatedDueDate, daysPregnant) {
  // Display results to the user
  var resultEstDueDate = document.getElementById('result');
  var resultDaysLeft = document.getElementById('daysleft')
  resultEstDueDate.innerHTML =  estimatedDueDate.toDateString() ;
  resultDaysLeft.innerHTML = Math.abs(daysPregnant)  ;

}
</script>
  
</html>